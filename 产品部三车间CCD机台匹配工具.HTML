<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CCDè®¾å¤‡åŒ¹é…å·¥å…·</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-color: #4361ee;
            --secondary-color: #3f37c9;
            --accent-color: #4895ef;
            --light-color: #f8f9fa;
            --dark-color: #212529;
            --success-color: #4cc9f0;
            --warning-color: #f72585;
            --border-radius: 12px;
            --box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
            --transition: all 0.3s ease;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Roboto', sans-serif;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            min-height: 100vh;
            padding: 40px 20px;
            color: var(--dark-color);
            line-height: 1.6;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        header {
            text-align: center;
            margin-bottom: 40px;
            animation: fadeIn 1s ease;
        }

        h1 {
            font-size: 2.5rem;
            margin-bottom: 15px;
            color: var(--primary-color);
            background: linear-gradient(to right, #4361ee, #3f37c9);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            position: relative;
            display: inline-block;
        }

        h1::after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 50%;
            transform: translateX(-50%);
            width: 80px;
            height: 4px;
            background: linear-gradient(to right, #4361ee, #3f37c9);
            border-radius: 2px;
        }

        h2 {
            font-size: 1.8rem;
            margin-bottom: 20px;
            color: var(--secondary-color);
        }

        .card {
            background: white;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            padding: 30px;
            margin-bottom: 30px;
            transition: var(--transition);
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.15);
        }

        .input-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 20px;
        }

        @media (max-width: 768px) {
            .input-grid {
                grid-template-columns: repeat(2, 1fr);
                gap: 15px;
            }
        }

        .input-group {
            margin-bottom: 0;
        }

        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            color: var(--dark-color);
        }

        input, select {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #e9ecef;
            border-radius: var(--border-radius);
            font-size: 16px;
            transition: var(--transition);
            background-color: #f8f9fa;
        }

        input:focus, select:focus {
            outline: none;
            border-color: var(--accent-color);
            background-color: white;
            box-shadow: 0 0 0 3px rgba(67, 97, 238, 0.2);
        }

        button {
            background: linear-gradient(to right, var(--primary-color), var(--secondary-color));
            color: white;
            border: none;
            padding: 12px 25px;
            font-size: 16px;
            font-weight: 500;
            border-radius: var(--border-radius);
            cursor: pointer;
            transition: var(--transition);
            box-shadow: 0 4px 15px rgba(67, 97, 238, 0.3);
            display: inline-flex;
            align-items: center;
            justify-content: center;
            margin-top: 20px;
        }

        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(67, 97, 238, 0.4);
        }

        button:active {
            transform: translateY(0);
        }

        button i {
            margin-right: 8px;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
            background: white;
            border-radius: var(--border-radius);
            overflow: hidden;
            box-shadow: var(--box-shadow);
        }

        th, td {
            padding: 15px;
            text-align: left;
            border-bottom: 1px solid #e9ecef;
        }

        th {
            background: linear-gradient(to right, var(--primary-color), var(--secondary-color));
            color: white;
            font-weight: 500;
            text-transform: uppercase;
            font-size: 0.85rem;
            letter-spacing: 0.5px;
        }

        tr:nth-child(even) {
            background-color: #f8f9fa;
        }

        tr:hover {
            background-color: #f1f3f5;
            cursor: pointer;
        }

        .recommended > td {
            background-color: rgba(76, 201, 240, 0.1);
            font-weight: bold;
        }

        .detail-row {
            background-color: #f1f3f5 !important;
            display: none;
        }

        .detail-row td {
            padding: 0;
            font-size: 0.95rem;
            color: #495057;
            border-top: none;
        }

        .detail-table {
            width: 100%;
            border-collapse: collapse;
            margin: 10px 0;
            font-size: 0.85em;
        }
        .detail-table th, .detail-table td {
            padding: 6px 8px;
            border: 1px solid #ddd;
            text-align: left;
        }
        .detail-table th {
            background-color: #727272;
            color: white;
            font-weight: normal;
        }
        .detail-table tr:nth-child(even) {
            background-color: #f9f9f9;
        }
        .detail-table .ccd-row {
            background-color: #fff9e6;
        }
        .detail-table .device-header {
            background-color: #e8f4f8;
            color: #333;
        }

        .match-score {
            display: inline-block;
            padding: 5px 10px;
            border-radius: 20px;
            font-weight: 500;
            font-size: 0.9rem;
        }

        .match-high {
            background-color: rgba(76, 201, 240, 0.2);
            color: #006d77;
        }

        .match-medium {
            background-color: rgba(255, 183, 3, 0.2);
            color: #9a5b00;
        }

        .match-low {
            background-color: rgba(247, 37, 133, 0.2);
            color: #800f2f;
        }

        .note {
            font-size: 0.9rem;
            color: #6c757d;
            margin-top: 20px;
            padding: 15px;
            background-color: #f8f9fa;
            border-left: 4px solid var(--accent-color);
            border-radius: 0 var(--border-radius) var(--border-radius) 0;
        }

        .tooltip {
            position: relative;
            display: inline-block;
            margin-left: 5px;
            cursor: help;
        }

        .tooltip .tooltiptext {
            visibility: hidden;
            width: 220px;
            background-color: var(--dark-color);
            color: #fff;
            text-align: center;
            border-radius: 6px;
            padding: 10px;
            position: absolute;
            z-index: 1;
            bottom: 125%;
            left: 50%;
            transform: translateX(-50%);
            opacity: 0;
            transition: opacity 0.3s;
            font-size: 0.8rem;
            font-weight: normal;
        }

        .tooltip:hover .tooltiptext {
            visibility: visible;
            opacity: 1;
        }

        .checkbox-container {
            display: flex;
            flex-wrap: wrap;
            gap: 12px;
            align-items: center;
            font-size: 14px;
            padding: 8px 0;
        }

        .checkbox-item {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            user-select: none;
        }

        .checkbox-item input[type="checkbox"] {
            width: auto;
            padding: 0;
            margin: 0;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .loading {
            display: none;
            text-align: center;
            padding: 20px;
        }
        
        .loading-spinner {
            border: 4px solid #f3f3f3;
            border-top: 4px solid var(--primary-color);
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 0 auto;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
    <div style="position: absolute; top: 10px; left: 10px; z-index: 100;">
        <img src="./CCD_Select/domain_logo.png" alt="Logo" width="140" height="50" style="border-radius: 8px; box-shadow: 0 2px 5px rgba(0,0,0,0);">
    </div>

    <div class="container">
        <header>
            <h1>äº§å“éƒ¨ä¸‰è½¦é—´CCDè®¾å¤‡åŒ¹é…å·¥å…·</h1>
            <p>æ ¹æ®äº§å“å°ºå¯¸ä¸æ£€æµ‹éœ€æ±‚ï¼Œæ™ºèƒ½æ¨èæœ€é€‚åˆçš„CCDè®¾å¤‡</p>
        </header>

        <div class="card">
            <h2>äº§å“å‚æ•°</h2>
            <div class="input-grid">
                <div class="input-group">
                    <label for="productLength">äº§å“é•¿åº¦ (mm)
                        <span class="tooltip">
                            <span class="tooltiptext">çŸ©å½¢äº§å“çš„æœ€é•¿è¾¹é•¿ï¼Œæˆ–å¤–æ¥çŸ©å½¢çš„é•¿åº¦</span>
                        </span>
                    </label>
                    <input type="number" id="productLength" min="0.001" value="5">
                </div>

                <div class="input-group">
                    <label for="productWidth">äº§å“å®½åº¦ (mm)
                        <span class="tooltip">
                            <span class="tooltiptext">çŸ©å½¢äº§å“çš„æ¬¡é•¿è¾¹é•¿ï¼Œæˆ–å¤–æ¥çŸ©å½¢çš„å®½åº¦</span>
                        </span>
                    </label>
                    <input type="number" id="productWidth" min="0.001" value="3.5">
                </div>

                <div class="input-group">
                    <label for="productThickness">äº§å“åšåº¦ (mm)
                        <span class="tooltip">
                            <span class="tooltiptext">äº§å“åœ¨å‚ç›´æ–¹å‘çš„é«˜åº¦</span>
                        </span>
                    </label>
                    <input type="number" id="productThickness" min="0.001" value="2">
                </div>

                <div class="input-group">
                    <label for="surfaceFinish">è¡¨é¢å¤„ç†
                        <span class="tooltip">
                            <span class="tooltiptext">äº§å“è¡¨é¢çš„å¤„ç†æ–¹å¼ï¼Œå½±å“å…‰ç…§é€‰æ‹©</span>
                        </span>
                    </label>
                    <select id="surfaceFinish">
                        <option value="rough">é»˜è®¤</option>
                        <option value="galvanized">é•€é”Œ</option>
                        <option value="compound">åŒ–åˆç‰©æ¶‚å±‚</option>
                        <option value="cuni">CUNI</option>
                        <option value="nicuni">NICUNI</option>
                        <option value="FHJczn">å¤åˆç¢±CZN</option>
                        <option value="FHJzn">å¤åˆç¢±ZN</option>
                        <option value="ninini">NININI</option>
                        <option value="polished">å“‘NICUNI</option>
                        <option value="matte">ç¡«é…¸ç›å¤åˆZN</option>
                        <option value="other">å…¶ä»–</option>
                    </select>
                </div>

                <div class="input-group"></div>
                <div class="input-group"></div>
                <div class="input-group"></div>

                <div class="input-group" style="grid-column: span 4;">
                    <!-- ç¬¬ä¸€è¡Œ -->
                    <div class="checkbox-container">
                        <label class="checkbox-item">
                            <input type="checkbox" id="selectAll">
                            <span>å…¨é€‰</span>
                        </label>
                        <label class="checkbox-item">
                            <input type="checkbox" id="flatDimension">
                            <span>å¹³é¢å°ºå¯¸</span>
                        </label>
                        <label class="checkbox-item">
                            <input type="checkbox" id="thicknessDimension">
                            <span>åšåº¦å°ºå¯¸</span>
                        </label>
                        <label class="checkbox-item">
                            <input type="checkbox" id="endFace">
                            <span>ç«¯é¢æ£€æµ‹</span>
                        </label>
                        <label class="checkbox-item">
                            <input type="checkbox" id="faceDifference">
                            <span>é¢å·®æ£€æµ‹</span>
                        </label>
                    </div>
                
                    <!-- ç¬¬äºŒè¡Œ -->
                    <div class="checkbox-container">
                        <label class="checkbox-item">
                            <input type="checkbox" id="topSurface">
                            <span>ä¸Šè¡¨é¢æ£€æµ‹</span>
                        </label>
                        <label class="checkbox-item">
                            <input type="checkbox" id="bottomSurface">
                            <span>ä¸‹è¡¨é¢æ£€æµ‹</span>
                        </label>
                        <label class="checkbox-item">
                            <input type="checkbox" id="sideSurface">
                            <span>ä¾§é¢æ£€æµ‹</span>
                        </label>
                        <label class="checkbox-item">
                            <input type="checkbox" id="grayscale">
                            <span>ç°åº¦æ£€æµ‹</span>
                        </label>
                        <label class="checkbox-item">
                            <input type="checkbox" id="eddyCurrent"> <!-- æ–°å¢æ¶¡æµæ£€æµ‹ -->
                            <span>æ¶¡æµæ£€æµ‹</span>
                        </label>
                    </div>
                </div>
            </div>

            <button onclick="calculateLenses()">
                <i>ğŸ”</i> è®¡ç®—åŒ¹é…CCDè®¾å¤‡
            </button>
        </div>

        <div class="loading" id="loadingIndicator">
            <div class="loading-spinner"></div>
            <p>æ­£åœ¨è®¡ç®—åŒ¹é…ç»“æœ...</p>
        </div>

        <div class="card">
            <h2>æ¨èCCDè®¾å¤‡</h2>
            <table id="lensTable">
                <thead>
                    <tr>
                        <th>è®¾å¤‡å·</th>
                        <th>å·¥ä½æ•°é‡</th>
                        <th>ä¾§é¢</th>
                        <th>ç°åº¦</th>
                        <th>ç«¯é¢</th>
                        <th>æ¶¡æµæ£€æµ‹</th>
                        <th>åŒ¹é…ç¨‹åº¦</th>
                    </tr>
                </thead>
                <tbody id="lensResults">
                    <!-- åŠ¨æ€ç”Ÿæˆ -->
                </tbody>
            </table>
            <p class="note">æ³¨ï¼šç‚¹å‡»ä»»æ„è®¾å¤‡è¡Œå¯å±•å¼€æŸ¥çœ‹è¯¦ç»†ä¿¡æ¯ã€‚åŒ¹é…åº¦è¡¨ç¤ºå½“å‰è®¾å¤‡ä¸äº§å“æ£€æµ‹éœ€æ±‚çš„ç»¼åˆåŒ¹é…ç¨‹åº¦ã€‚</p>
        </div>
    </div>

    <script>
        // ==================== å…¨é€‰åŠŸèƒ½ ====================
        document.addEventListener('DOMContentLoaded', function () {
            const selectAllCheckbox = document.getElementById('selectAll');
            const otherCheckboxes = document.querySelectorAll('.checkbox-container input[type="checkbox"]:not(#selectAll)');

            selectAllCheckbox.addEventListener('change', function () {
                const isChecked = this.checked;
                otherCheckboxes.forEach(checkbox => {
                    checkbox.checked = isChecked;
                });
            });

            otherCheckboxes.forEach(checkbox => {
                checkbox.addEventListener('change', function () {
                    const allChecked = Array.from(otherCheckboxes).every(cb => cb.checked);
                    selectAllCheckbox.checked = allChecked;
                });
            });
        });

        // ==================== è¯¦ç»†è®¾å¤‡ä¿¡æ¯ ====================
        const detailedDevices = [
            {
                è®¾å¤‡å·: "E1",
                å‚å•†: "AJ",
                CPU: "i7-14700",
                GPU: "RTX4070",
                å†…å­˜: 16,
                å·¥ä½: [
                    { å·¥ä½: "CCD1", ç›¸æœº: "MV-CS016-10GC", é•œå¤´: "FA 25mm 1:2.8 1/1.7''", æ£€æµ‹é¡¹: "ä¸‹è¡¨é¢1", å…‰æº: "ç™½è‰²åŒè½´å…‰+ç™½è‰²ç¯å…‰+ç™½è‰²å¹³é¢èƒŒå…‰", "å•åƒç´ ç²¾åº¦ (Î¼m)": 33.771, åˆ†è¾¨ç‡: "1440Ã—1080", è§†é‡: "48.630Ã—36.473", ç›¸å…ƒå°ºå¯¸: 3.45 },
                    { å·¥ä½: "CCD2", ç›¸æœº: "MV-CS016-10GM", é•œå¤´: "XF-5MDT018x110-F", æ£€æµ‹é¡¹: "å¹³é¢å°ºå¯¸", å…‰æº: "ç™½è‰²å¹³é¢èƒŒå…‰", "å•åƒç´ ç²¾åº¦ (Î¼m)": 19.156, åˆ†è¾¨ç‡: "2048Ã—1536", è§†é‡: "39.231Ã—29.424", ç›¸å…ƒå°ºå¯¸: 3.45 },
                    { å·¥ä½: "CCD3", ç›¸æœº: "MV-CS032-10GM", é•œå¤´: "XF-5MDT018x110-F", æ£€æµ‹é¡¹: "åšåº¦å°ºå¯¸", å…‰æº: "ç™½è‰²å¹³é¢èƒŒå…‰", "å•åƒç´ ç²¾åº¦ (Î¼m)": 19.75, åˆ†è¾¨ç‡: "2048Ã—1536", è§†é‡: "40.448Ã—30.336", ç›¸å…ƒå°ºå¯¸: 3.45 },
                    { å·¥ä½: "CCD4", ç›¸æœº: "MV-CS032-10GC", é•œå¤´: "FA 25mm 1:2.8 1/1.7''", æ£€æµ‹é¡¹: "ä¸Šè¡¨é¢", å…‰æº: "ç™½è‰²åŒè½´å…‰+ç™½è‰²ç¯å…‰+ç™½è‰²å¹³é¢èƒŒå…‰", "å•åƒç´ ç²¾åº¦ (Î¼m)": 33.402, åˆ†è¾¨ç‡: "1440Ã—1080", è§†é‡: "48.099Ã—36.074", ç›¸å…ƒå°ºå¯¸: 3.45 },
                    { å·¥ä½: "CCD5", ç›¸æœº: "è™šæ‹ŸCCD4", é•œå¤´: "", æ£€æµ‹é¡¹: "ä¸Šè¡¨é¢", å…‰æº: "ç™½è‰²å¹³é¢èƒŒå…‰", "å•åƒç´ ç²¾åº¦ (Î¼m)": 33.402, åˆ†è¾¨ç‡: "1440Ã—1080", è§†é‡: "48.099Ã—36.074", ç›¸å…ƒå°ºå¯¸: 3.45 },
                    { å·¥ä½: "CCD6", ç›¸æœº: "è™šæ‹ŸCCD1", é•œå¤´: "", æ£€æµ‹é¡¹: "ä¸‹è¡¨é¢", å…‰æº: "ç™½è‰²å¹³é¢èƒŒå…‰", "å•åƒç´ ç²¾åº¦ (Î¼m)": 33.771, åˆ†è¾¨ç‡: "1440Ã—1080", è§†é‡: "48.630Ã—36.473", ç›¸å…ƒå°ºå¯¸: 3.45 },
                    { å·¥ä½: "CCD8", ç›¸æœº: "MV-CS016-10GC", é•œå¤´: "FA 25mm 1:2.8 1/1.7''+åå°„é•œ", æ£€æµ‹é¡¹: "ä¾§é¢", å…‰æº: "ç™½è‰²ç¯èƒŒå…‰", "å•åƒç´ ç²¾åº¦ (Î¼m)": 29.654, åˆ†è¾¨ç‡: "1440Ã—1080", è§†é‡: "42.702Ã—32.026", ç›¸å…ƒå°ºå¯¸: 3.45 },
                    { å·¥ä½: "CCD9", ç›¸æœº: "MV-CS016-10GC", é•œå¤´: "FA 25mm 1:2.8 1/1.7''+åå°„é•œ", æ£€æµ‹é¡¹: "ä¾§é¢", å…‰æº: "", "å•åƒç´ ç²¾åº¦ (Î¼m)": 26.458, åˆ†è¾¨ç‡: "1440Ã—1080", è§†é‡: "38.100Ã—28.575", ç›¸å…ƒå°ºå¯¸: 3.45 },
                    { å·¥ä½: "CCD10", ç›¸æœº: "MV-CS016-10GC", é•œå¤´: "FA 25mm 1:2.8 1/1.7''+åå°„é•œ", æ£€æµ‹é¡¹: "ä¾§é¢", å…‰æº: "", "å•åƒç´ ç²¾åº¦ (Î¼m)": 29.174, åˆ†è¾¨ç‡: "1440Ã—1080", è§†é‡: "42.011Ã—31.508", ç›¸å…ƒå°ºå¯¸: 3.45 },
                    { å·¥ä½: "CCD11", ç›¸æœº: "MV-CS016-10GC", é•œå¤´: "FA 25mm 1:2.8 1/1.7''+åå°„é•œ", æ£€æµ‹é¡¹: "ä¾§é¢", å…‰æº: "", "å•åƒç´ ç²¾åº¦ (Î¼m)": 29.175, åˆ†è¾¨ç‡: "1440Ã—1080", è§†é‡: "42.012Ã—31.509", ç›¸å…ƒå°ºå¯¸: 3.45 },
                    { å·¥ä½: "CCD12", ç›¸æœº: "MV-CS016-10GC", é•œå¤´: "FA 25mm 1:2.8 1/1.7''", æ£€æµ‹é¡¹: "ä¸Šè¡¨é¢", å…‰æº: "æ­£å‘åŒå¹³é¢ç™½å…‰", "å•åƒç´ ç²¾åº¦ (Î¼m)": 32.571, åˆ†è¾¨ç‡: "1440Ã—1080", è§†é‡: "46.902Ã—35.177", ç›¸å…ƒå°ºå¯¸: 3.45 },
                    { å·¥ä½: "CCD13", ç›¸æœº: "MV-CS016-10GC", é•œå¤´: "FA 25mm 1:2.8 1/1.7''", æ£€æµ‹é¡¹: "ä¸‹è¡¨é¢", å…‰æº: "æ­£å‘åŒå¹³é¢ç™½å…‰", "å•åƒç´ ç²¾åº¦ (Î¼m)": 34.234, åˆ†è¾¨ç‡: "1440Ã—1080", è§†é‡: "49.297Ã—36.973", ç›¸å…ƒå°ºå¯¸: 3.45 },
                    { å·¥ä½: "CCD14", ç›¸æœº: "MV-CS016-10GC", é•œå¤´: "FA 25mm 1:2.8 1/1.7''", æ£€æµ‹é¡¹: "ç°åº¦æ£€æµ‹", å…‰æº: "ç§¯åˆ†å…‰æº", "å•åƒç´ ç²¾åº¦ (Î¼m)": 31.67, åˆ†è¾¨ç‡: "1440Ã—1080", è§†é‡: "45.605Ã—34.204", ç›¸å…ƒå°ºå¯¸: 3.45 },
                    { å·¥ä½: "CCD0", ç›¸æœº: "", é•œå¤´: "", æ£€æµ‹é¡¹: "æ¶¡æµæ£€æµ‹", å…‰æº: "", "å•åƒç´ ç²¾åº¦ (Î¼m)": "", åˆ†è¾¨ç‡: "", è§†é‡: "", ç›¸å…ƒå°ºå¯¸: "" }
                ]
            },
            {
                è®¾å¤‡å·: "E2",
                å‚å•†: "AJ",
                CPU: "i7-14700",
                GPU: "RTX4070",
                å†…å­˜: 16,
                å·¥ä½: [
                    { å·¥ä½: "CCD1", ç›¸æœº: "MV-CS016-10GC", é•œå¤´: "FA 35mm 1:1.8 2/3''", æ£€æµ‹é¡¹: "ä¸‹è¡¨é¢", å…‰æº: "ç™½è‰²åŒè½´å…‰+ç™½è‰²ç¯å…‰+ç™½è‰²å¹³é¢èƒŒå…‰", "å•åƒç´ ç²¾åº¦ (Î¼m)": 20.92, åˆ†è¾¨ç‡: "1440Ã—1080", è§†é‡: "30.125Ã—22.594", ç›¸å…ƒå°ºå¯¸: 3.45 },
                    { å·¥ä½: "CCD2", ç›¸æœº: "MV-CS016-10GM", é•œå¤´: "XF-5MDT018x110-F", æ£€æµ‹é¡¹: "å¹³é¢å°ºå¯¸", å…‰æº: "ç™½è‰²å¹³é¢èƒŒå…‰", "å•åƒç´ ç²¾åº¦ (Î¼m)": 19.651, åˆ†è¾¨ç‡: "1440Ã—1080", è§†é‡: "28.297Ã—21.223", ç›¸å…ƒå°ºå¯¸: 3.45 },
                    { å·¥ä½: "CCD3", ç›¸æœº: "MV-CS016-10GM", é•œå¤´: "XF-5MDT018x110-F", æ£€æµ‹é¡¹: "åšåº¦å°ºå¯¸", å…‰æº: "ç™½è‰²å¹³é¢èƒŒå…‰", "å•åƒç´ ç²¾åº¦ (Î¼m)": 18.667, åˆ†è¾¨ç‡: "1440Ã—1080", è§†é‡: "26.880Ã—20.160", ç›¸å…ƒå°ºå¯¸: 3.45 },
                    { å·¥ä½: "CCD4", ç›¸æœº: "MV-CS016-10GC", é•œå¤´: "FA 35mm 1:1.8 2/3''", æ£€æµ‹é¡¹: "ä¸Šè¡¨é¢", å…‰æº: "ç™½è‰²åŒè½´å…‰+ç™½è‰²ç¯å…‰+ç™½è‰²å¹³é¢èƒŒå…‰", "å•åƒç´ ç²¾åº¦ (Î¼m)": 21.929, åˆ†è¾¨ç‡: "1440Ã—1080", è§†é‡: "31.578Ã—23.683", ç›¸å…ƒå°ºå¯¸: 3.45 },
                    { å·¥ä½: "CCD5", ç›¸æœº: "è™šæ‹ŸCCD4", é•œå¤´: "", æ£€æµ‹é¡¹: "ä¸Šè¡¨é¢", å…‰æº: "ç™½è‰²å¹³é¢èƒŒå…‰", "å•åƒç´ ç²¾åº¦ (Î¼m)": 21.929, åˆ†è¾¨ç‡: "1440Ã—1080", è§†é‡: "31.578Ã—23.683", ç›¸å…ƒå°ºå¯¸: 3.45 },
                    { å·¥ä½: "CCD6", ç›¸æœº: "è™šæ‹ŸCCD1", é•œå¤´: "", æ£€æµ‹é¡¹: "ä¸‹è¡¨é¢", å…‰æº: "ç™½è‰²å¹³é¢èƒŒå…‰", "å•åƒç´ ç²¾åº¦ (Î¼m)": 20.92, åˆ†è¾¨ç‡: "1440Ã—1080", è§†é‡: "30.125Ã—22.594", ç›¸å…ƒå°ºå¯¸: 3.45 },
                    { å·¥ä½: "CCD8", ç›¸æœº: "MV-CS016-10GC", é•œå¤´: "FA 35mm 1:1.8 2/3''+åå°„é•œ", æ£€æµ‹é¡¹: "ä¾§é¢", å…‰æº: "ç™½è‰²ç¯èƒŒå…‰", "å•åƒç´ ç²¾åº¦ (Î¼m)": 18.45, åˆ†è¾¨ç‡: "1440Ã—1080", è§†é‡: "26.568Ã—19.926", ç›¸å…ƒå°ºå¯¸: 3.45 },
                    { å·¥ä½: "CCD9", ç›¸æœº: "MV-CS016-10GC", é•œå¤´: "FA 35mm 1:1.8 2/3''+åå°„é•œ", æ£€æµ‹é¡¹: "ä¾§é¢", å…‰æº: "", "å•åƒç´ ç²¾åº¦ (Î¼m)": 15.898, åˆ†è¾¨ç‡: "1440Ã—1080", è§†é‡: "22.893Ã—17.170", ç›¸å…ƒå°ºå¯¸: 3.45 },
                    { å·¥ä½: "CCD10", ç›¸æœº: "MV-CS016-10GC", é•œå¤´: "FA 35mm 1:1.8 2/3''+åå°„é•œ", æ£€æµ‹é¡¹: "ä¾§é¢", å…‰æº: "", "å•åƒç´ ç²¾åº¦ (Î¼m)": 18.382, åˆ†è¾¨ç‡: "1440Ã—1080", è§†é‡: "26.470Ã—19.853", ç›¸å…ƒå°ºå¯¸: 3.45 },
                    { å·¥ä½: "CCD11", ç›¸æœº: "MV-CS016-10GC", é•œå¤´: "FA 35mm 1:1.8 2/3''+åå°„é•œ", æ£€æµ‹é¡¹: "ä¾§é¢", å…‰æº: "", "å•åƒç´ ç²¾åº¦ (Î¼m)": 19.685, åˆ†è¾¨ç‡: "1440Ã—1080", è§†é‡: "28.346Ã—21.260", ç›¸å…ƒå°ºå¯¸: 3.45 },
                    { å·¥ä½: "CCD12", ç›¸æœº: "MV-CS016-10GC", é•œå¤´: "FA 35mm 1:1.8 2/3''", æ£€æµ‹é¡¹: "ä¸Šè¡¨é¢", å…‰æº: "æ­£å‘åŒå¹³é¢30åº¦ç™½å…‰", "å•åƒç´ ç²¾åº¦ (Î¼m)": 20.618, åˆ†è¾¨ç‡: "1440Ã—1080", è§†é‡: "29.690Ã—22.267", ç›¸å…ƒå°ºå¯¸: 3.45 },
                    { å·¥ä½: "CCD13", ç›¸æœº: "MV-CS016-10GC", é•œå¤´: "FA 35mm 1:1.8 2/3''", æ£€æµ‹é¡¹: "ä¸‹è¡¨é¢", å…‰æº: "æ­£å‘åŒå¹³é¢ç™½å…‰ï¼ˆ90åº¦+30åº¦ï¼‰", "å•åƒç´ ç²¾åº¦ (Î¼m)": 20.408, åˆ†è¾¨ç‡: "1440Ã—1080", è§†é‡: "29.388Ã—22.041", ç›¸å…ƒå°ºå¯¸: 3.45 },
                    { å·¥ä½: "CCD14", ç›¸æœº: "MV-CS016-10GC", é•œå¤´: "FA 35mm 1:1.8 2/3''", æ£€æµ‹é¡¹: "ä¸Šè¡¨é¢", å…‰æº: "ç§¯åˆ†å…‰æº", "å•åƒç´ ç²¾åº¦ (Î¼m)": 20.202, åˆ†è¾¨ç‡: "1440Ã—1080", è§†é‡: "29.091Ã—21.818", ç›¸å…ƒå°ºå¯¸: 3.45 },
                    { å·¥ä½: "CCD0", ç›¸æœº: "", é•œå¤´: "", æ£€æµ‹é¡¹: "æ¶¡æµæ£€æµ‹", å…‰æº: "", "å•åƒç´ ç²¾åº¦ (Î¼m)": "", åˆ†è¾¨ç‡: "", è§†é‡: "", ç›¸å…ƒå°ºå¯¸: "" }
                ]
            },
            {
                è®¾å¤‡å·: "E3",
                å‚å•†: "AJ",
                CPU: "i7-14700",
                GPU: "RTX4070",
                å†…å­˜: 16,
                å·¥ä½: [
                    { å·¥ä½: "CCD1", ç›¸æœº: "MV-CS016-10GC", é•œå¤´: "FA 35mm 1:2.8 1/1.7''", æ£€æµ‹é¡¹: "ä¸‹è¡¨é¢", å…‰æº: "ç™½è‰²åŒè½´å…‰+ç™½è‰²ç¯å…‰+ç™½è‰²å¹³é¢èƒŒå…‰", "å•åƒç´ ç²¾åº¦ (Î¼m)": 21.321, åˆ†è¾¨ç‡: "1440Ã—1080", è§†é‡: "30.702Ã—23.027", ç›¸å…ƒå°ºå¯¸: 3.45 },
                    { å·¥ä½: "CCD2", ç›¸æœº: "MV-CS016-10GM", é•œå¤´: "XF-5MDT018x110-F", æ£€æµ‹é¡¹: "å¹³é¢å°ºå¯¸", å…‰æº: "ç™½è‰²å¹³é¢èƒŒå…‰", "å•åƒç´ ç²¾åº¦ (Î¼m)": 19.39, åˆ†è¾¨ç‡: "1440Ã—1080", è§†é‡: "27.922Ã—20.941", ç›¸å…ƒå°ºå¯¸: 3.45 },
                    { å·¥ä½: "CCD3", ç›¸æœº: "MV-CS016-10GM", é•œå¤´: "XF-5MDT018x110-F", æ£€æµ‹é¡¹: "åšåº¦å°ºå¯¸", å…‰æº: "ç™½è‰²å¹³é¢èƒŒå…‰", "å•åƒç´ ç²¾åº¦ (Î¼m)": 19.6, åˆ†è¾¨ç‡: "1440Ã—1080", è§†é‡: "28.224Ã—21.168", ç›¸å…ƒå°ºå¯¸: 3.45 },
                    { å·¥ä½: "CCD4", ç›¸æœº: "MV-CS016-10GC", é•œå¤´: "FA 35mm 1:2.8 1/1.7''", æ£€æµ‹é¡¹: "ä¸Šè¡¨é¢", å…‰æº: "ç™½è‰²åŒè½´å…‰+ç™½è‰²ç¯å…‰+ç™½è‰²å¹³é¢èƒŒå…‰", "å•åƒç´ ç²¾åº¦ (Î¼m)": 21.141, åˆ†è¾¨ç‡: "1440Ã—1080", è§†é‡: "30.443Ã—22.832", ç›¸å…ƒå°ºå¯¸: 3.45 },
                    { å·¥ä½: "CCD5", ç›¸æœº: "è™šæ‹ŸCCD4", é•œå¤´: "", æ£€æµ‹é¡¹: "ä¸Šè¡¨é¢", å…‰æº: "ç™½è‰²å¹³é¢èƒŒå…‰", "å•åƒç´ ç²¾åº¦ (Î¼m)": 21.141, åˆ†è¾¨ç‡: "1440Ã—1080", è§†é‡: "30.443Ã—22.832", ç›¸å…ƒå°ºå¯¸: 3.45 },
                    { å·¥ä½: "CCD6", ç›¸æœº: "è™šæ‹ŸCCD1", é•œå¤´: "", æ£€æµ‹é¡¹: "ä¸‹è¡¨é¢", å…‰æº: "ç™½è‰²å¹³é¢èƒŒå…‰", "å•åƒç´ ç²¾åº¦ (Î¼m)": 21.321, åˆ†è¾¨ç‡: "1440Ã—1080", è§†é‡: "30.702Ã—23.027", ç›¸å…ƒå°ºå¯¸: 3.45 },
                    { å·¥ä½: "CCD8", ç›¸æœº: "MV-CS016-10GC", é•œå¤´: "FA 35mm 1:2.8 1/1.7''+åå°„é•œ", æ£€æµ‹é¡¹: "ä¾§é¢", å…‰æº: "ç™½è‰²ç¯èƒŒå…‰", "å•åƒç´ ç²¾åº¦ (Î¼m)": 19.083, åˆ†è¾¨ç‡: "1440Ã—1080", è§†é‡: "27.480Ã—20.610", ç›¸å…ƒå°ºå¯¸: 3.45 },
                    { å·¥ä½: "CCD9", ç›¸æœº: "MV-CS016-10GC", é•œå¤´: "FA 35mm 1:2.8 1/1.7''+åå°„é•œ", æ£€æµ‹é¡¹: "ä¾§é¢", å…‰æº: "", "å•åƒç´ ç²¾åº¦ (Î¼m)": 17.699, åˆ†è¾¨ç‡: "1440Ã—1080", è§†é‡: "25.487Ã—19.115", ç›¸å…ƒå°ºå¯¸: 3.45 },
                    { å·¥ä½: "CCD10", ç›¸æœº: "MV-CS016-10GC", é•œå¤´: "FA 35mm 1:2.8 1/1.7''+åå°„é•œ", æ£€æµ‹é¡¹: "ä¾§é¢", å…‰æº: "", "å•åƒç´ ç²¾åº¦ (Î¼m)": 19.92, åˆ†è¾¨ç‡: "1440Ã—1080", è§†é‡: "28.685Ã—21.514", ç›¸å…ƒå°ºå¯¸: 3.45 },
                    { å·¥ä½: "CCD11", ç›¸æœº: "MV-CS016-10GC", é•œå¤´: "FA 35mm 1:2.8 1/1.7''+åå°„é•œ", æ£€æµ‹é¡¹: "ä¾§é¢", å…‰æº: "", "å•åƒç´ ç²¾åº¦ (Î¼m)": 20.325, åˆ†è¾¨ç‡: "1440Ã—1080", è§†é‡: "29.268Ã—21.951", ç›¸å…ƒå°ºå¯¸: 3.45 },
                    { å·¥ä½: "CCD12", ç›¸æœº: "MV-CS016-10GC", é•œå¤´: "FA 35mm 1:1.8 2/3''", æ£€æµ‹é¡¹: "ä¸Šè¡¨é¢", å…‰æº: "æ­£å‘åŒå¹³é¢30åº¦ç™½å…‰", "å•åƒç´ ç²¾åº¦ (Î¼m)": 21.276, åˆ†è¾¨ç‡: "1440Ã—1080", è§†é‡: "30.637Ã—22.978", ç›¸å…ƒå°ºå¯¸: 3.45 },
                    { å·¥ä½: "CCD13", ç›¸æœº: "MV-CS016-10GC", é•œå¤´: "FA 35mm 1:1.8 2/3''", æ£€æµ‹é¡¹: "ä¸‹è¡¨é¢", å…‰æº: "æ­£å‘åŒå¹³é¢ç™½å…‰", "å•åƒç´ ç²¾åº¦ (Î¼m)": 21.413, åˆ†è¾¨ç‡: "1440Ã—1080", è§†é‡: "30.835Ã—23.126", ç›¸å…ƒå°ºå¯¸: 3.45 },
                    { å·¥ä½: "CCD14", ç›¸æœº: "MV-CS016-10GC", é•œå¤´: "FA 25mm 1:2.8 1/1.7''", æ£€æµ‹é¡¹: "ä¸Šè¡¨é¢", å…‰æº: "ç§¯åˆ†å…‰æº", "å•åƒç´ ç²¾åº¦ (Î¼m)": 22.026, åˆ†è¾¨ç‡: "1440Ã—1080", è§†é‡: "31.717Ã—23.788", ç›¸å…ƒå°ºå¯¸: 3.45 },
                    { å·¥ä½: "CCD0", ç›¸æœº: "", é•œå¤´: "", æ£€æµ‹é¡¹: "æ¶¡æµæ£€æµ‹", å…‰æº: "", "å•åƒç´ ç²¾åº¦ (Î¼m)": "", åˆ†è¾¨ç‡: "", è§†é‡: "", ç›¸å…ƒå°ºå¯¸: "" }
                ]
            },
            {
                è®¾å¤‡å·: "E4",
                å‚å•†: "AJ",
                CPU: "i7-14700",
                GPU: "RTX4070",
                å†…å­˜: 16,
                å·¥ä½: [
                    { å·¥ä½: "CCD1", ç›¸æœº: "MV-CS016-10GC", é•œå¤´: "FA 25mm 1:2.8 1/1.7''", æ£€æµ‹é¡¹: "ä¸‹è¡¨é¢", å…‰æº: "ç™½è‰²åŒè½´å…‰+ç™½è‰²ç¯å…‰+ç™½è‰²å¹³é¢èƒŒå…‰", "å•åƒç´ ç²¾åº¦ (Î¼m)": 21.834, åˆ†è¾¨ç‡: "1440Ã—1080", è§†é‡: "31.441Ã—23.581", ç›¸å…ƒå°ºå¯¸: 3.45 },
                    { å·¥ä½: "CCD2", ç›¸æœº: "MV-CS016-10GM", é•œå¤´: "XF-5MDT018x110-F", æ£€æµ‹é¡¹: "å¹³é¢å°ºå¯¸", å…‰æº: "ç™½è‰²å¹³é¢èƒŒå…‰", "å•åƒç´ ç²¾åº¦ (Î¼m)": 19.298, åˆ†è¾¨ç‡: "1440Ã—1080", è§†é‡: "27.789Ã—20.842", ç›¸å…ƒå°ºå¯¸: 3.45 },
                    { å·¥ä½: "CCD3", ç›¸æœº: "MV-CS016-10GM", é•œå¤´: "XF-5MDT018x110-F", æ£€æµ‹é¡¹: "åšåº¦å°ºå¯¸", å…‰æº: "ç™½è‰²å¹³é¢èƒŒå…‰", "å•åƒç´ ç²¾åº¦ (Î¼m)": 19.4, åˆ†è¾¨ç‡: "1440Ã—1080", è§†é‡: "27.936Ã—20.952", ç›¸å…ƒå°ºå¯¸: 3.45 },
                    { å·¥ä½: "CCD4", ç›¸æœº: "MV-CS016-10GC", é•œå¤´: "FA 25mm 1:2.8 1/1.7''", æ£€æµ‹é¡¹: "ä¸Šè¡¨é¢", å…‰æº: "ç™½è‰²åŒè½´å…‰+ç™½è‰²ç¯å…‰+ç™½è‰²å¹³é¢èƒŒå…‰", "å•åƒç´ ç²¾åº¦ (Î¼m)": 21.9298, åˆ†è¾¨ç‡: "1440Ã—1080", è§†é‡: "31.579Ã—23.684", ç›¸å…ƒå°ºå¯¸: 3.45 },
                    { å·¥ä½: "CCD5", ç›¸æœº: "è™šæ‹ŸCCD4", é•œå¤´: "", æ£€æµ‹é¡¹: "ä¸Šè¡¨é¢", å…‰æº: "ç™½è‰²å¹³é¢èƒŒå…‰", "å•åƒç´ ç²¾åº¦ (Î¼m)": 21.9298, åˆ†è¾¨ç‡: "1440Ã—1080", è§†é‡: "31.579Ã—23.684", ç›¸å…ƒå°ºå¯¸: 3.45 },
                    { å·¥ä½: "CCD6", ç›¸æœº: "è™šæ‹ŸCCD1", é•œå¤´: "", æ£€æµ‹é¡¹: "ä¸‹è¡¨é¢", å…‰æº: "ç™½è‰²å¹³é¢èƒŒå…‰", "å•åƒç´ ç²¾åº¦ (Î¼m)": 21.834, åˆ†è¾¨ç‡: "1440Ã—1080", è§†é‡: "31.441Ã—23.581", ç›¸å…ƒå°ºå¯¸: 3.45 },
                    { å·¥ä½: "CCD7", ç›¸æœº: "MV-CS016-10GM", é•œå¤´: "è¿œå¿ƒé•œå¤´", æ£€æµ‹é¡¹: "å¹³é¢å°ºå¯¸", å…‰æº: "ç™½è‰²å¹³é¢èƒŒå…‰", "å•åƒç´ ç²¾åº¦ (Î¼m)": 3.45, åˆ†è¾¨ç‡: "1440Ã—1080", è§†é‡: "4.968Ã—3.726", ç›¸å…ƒå°ºå¯¸: 3.45 },
                    { å·¥ä½: "CCD8", ç›¸æœº: "MV-CS016-10GC", é•œå¤´: "FA 35mm 1:2.8 1/1.7''+åå°„é•œ", æ£€æµ‹é¡¹: "ä¾§é¢", å…‰æº: "ç™½è‰²ç¯èƒŒå…‰", "å•åƒç´ ç²¾åº¦ (Î¼m)": 18.7969, åˆ†è¾¨ç‡: "1440Ã—1080", è§†é‡: "27.068Ã—20.301", ç›¸å…ƒå°ºå¯¸: 3.45 },
                    { å·¥ä½: "CCD9", ç›¸æœº: "MV-CS016-10GC", é•œå¤´: "FA 35mm 1:2.8 1/1.7''+åå°„é•œ", æ£€æµ‹é¡¹: "ä¾§é¢", å…‰æº: "", "å•åƒç´ ç²¾åº¦ (Î¼m)": 17.1526, åˆ†è¾¨ç‡: "1440Ã—1080", è§†é‡: "24.700Ã—18.525", ç›¸å…ƒå°ºå¯¸: 3.45 },
                    { å·¥ä½: "CCD10", ç›¸æœº: "MV-CS016-10GC", é•œå¤´: "FA 35mm 1:2.8 1/1.7''+åå°„é•œ", æ£€æµ‹é¡¹: "ä¾§é¢", å…‰æº: "", "å•åƒç´ ç²¾åº¦ (Î¼m)": 19.5312, åˆ†è¾¨ç‡: "1440Ã—1080", è§†é‡: "28.125Ã—21.094", ç›¸å…ƒå°ºå¯¸: 3.45 },
                    { å·¥ä½: "CCD11", ç›¸æœº: "MV-CS016-10GC", é•œå¤´: "FA 35mm 1:2.8 1/1.7''+åå°„é•œ", æ£€æµ‹é¡¹: "ä¾§é¢", å…‰æº: "", "å•åƒç´ ç²¾åº¦ (Î¼m)": 20.0803, åˆ†è¾¨ç‡: "1440Ã—1080", è§†é‡: "28.916Ã—21.687", ç›¸å…ƒå°ºå¯¸: 3.45 },
                    { å·¥ä½: "CCD12", ç›¸æœº: "MV-CS016-10GC", é•œå¤´: "FA 25mm 1:2.8 1/1.7''", æ£€æµ‹é¡¹: "ä¸Šè¡¨é¢", å…‰æº: "æ­£å‘åŒå¹³é¢ç™½å…‰", "å•åƒç´ ç²¾åº¦ (Î¼m)": 19.646, åˆ†è¾¨ç‡: "1440Ã—1080", è§†é‡: "28.290Ã—21.218", ç›¸å…ƒå°ºå¯¸: 3.45 },
                    { å·¥ä½: "CCD13", ç›¸æœº: "MV-CS016-10GC", é•œå¤´: "FA 25mm 1:2.8 1/1.7''", æ£€æµ‹é¡¹: "ä¸‹è¡¨é¢", å…‰æº: "æ­£å‘åŒå¹³é¢ç™½å…‰", "å•åƒç´ ç²¾åº¦ (Î¼m)": 19.685, åˆ†è¾¨ç‡: "1440Ã—1080", è§†é‡: "28.346Ã—21.260", ç›¸å…ƒå°ºå¯¸: 3.45 }
                ]
            },
            {
                è®¾å¤‡å·: "E5",
                å‚å•†: "AJ",
                CPU: "i7-14700",
                GPU: "RTX4070",
                å†…å­˜: 16,
                å·¥ä½: [
                    { å·¥ä½: "CCD1", ç›¸æœº: "MV-CS016-10GC", é•œå¤´: "FA 50mm 1:2.8 1/1''", æ£€æµ‹é¡¹: "ä¸‹è¡¨é¢", å…‰æº: "ç™½è‰²åŒè½´å…‰+ç™½è‰²ç¯å…‰+ç™½è‰²å¹³é¢èƒŒå…‰", "å•åƒç´ ç²¾åº¦ (Î¼m)": 7.792, åˆ†è¾¨ç‡: "1440Ã—1080", è§†é‡: "11.220Ã—8.415", ç›¸å…ƒå°ºå¯¸: 3.45 },
                    { å·¥ä½: "CCD2", ç›¸æœº: "MV-CS016-10GM", é•œå¤´: "XF-10MDT05X110-1C-VI V5", æ£€æµ‹é¡¹: "å¹³é¢å°ºå¯¸", å…‰æº: "ç™½è‰²å¹³é¢èƒŒå…‰", "å•åƒç´ ç²¾åº¦ (Î¼m)": 6.905, åˆ†è¾¨ç‡: "1440Ã—1080", è§†é‡: "9.943Ã—7.457", ç›¸å…ƒå°ºå¯¸: 3.45 },
                    { å·¥ä½: "CCD3", ç›¸æœº: "MV-CS016-10GM", é•œå¤´: "XF-10MDT05X110-1C-VI V5", æ£€æµ‹é¡¹: "åšåº¦å°ºå¯¸", å…‰æº: "ç™½è‰²å¹³é¢èƒŒå…‰", "å•åƒç´ ç²¾åº¦ (Î¼m)": 6.957, åˆ†è¾¨ç‡: "1440Ã—1080", è§†é‡: "10.018Ã—7.514", ç›¸å…ƒå°ºå¯¸: 3.45 },
                    { å·¥ä½: "CCD4", ç›¸æœº: "MV-CS016-10GC", é•œå¤´: "FA 50mm 1:2.8 1/1''", æ£€æµ‹é¡¹: "ä¸Šè¡¨é¢", å…‰æº: "ç™½è‰²åŒè½´å…‰+ç™½è‰²ç¯å…‰+ç™½è‰²å¹³é¢èƒŒå…‰", "å•åƒç´ ç²¾åº¦ (Î¼m)": 6.857, åˆ†è¾¨ç‡: "1440Ã—1080", è§†é‡: "9.874Ã—7.406", ç›¸å…ƒå°ºå¯¸: 3.45 },
                    { å·¥ä½: "CCD5", ç›¸æœº: "è™šæ‹ŸCCD4", é•œå¤´: "", æ£€æµ‹é¡¹: "ä¸Šè¡¨é¢", å…‰æº: "ç™½è‰²å¹³é¢èƒŒå…‰", "å•åƒç´ ç²¾åº¦ (Î¼m)": 6.857, åˆ†è¾¨ç‡: "1440Ã—1080", è§†é‡: "9.874Ã—7.406", ç›¸å…ƒå°ºå¯¸: 3.45 },
                    { å·¥ä½: "CCD6", ç›¸æœº: "è™šæ‹ŸCCD1", é•œå¤´: "", æ£€æµ‹é¡¹: "ä¸‹è¡¨é¢", å…‰æº: "ç™½è‰²å¹³é¢èƒŒå…‰", "å•åƒç´ ç²¾åº¦ (Î¼m)": 7.792, åˆ†è¾¨ç‡: "1440Ã—1080", è§†é‡: "11.220Ã—8.415", ç›¸å…ƒå°ºå¯¸: 3.45 },
                    { å·¥ä½: "CCD7", ç›¸æœº: "MV-CS016-10GM", é•œå¤´: "è¿œå¿ƒé•œå¤´", æ£€æµ‹é¡¹: "å¹³é¢å°ºå¯¸", å…‰æº: "ç™½è‰²å¹³é¢èƒŒå…‰", "å•åƒç´ ç²¾åº¦ (Î¼m)": 3.45, åˆ†è¾¨ç‡: "1440Ã—1080", è§†é‡: "4.968Ã—3.726", ç›¸å…ƒå°ºå¯¸: 3.45 },
                    { å·¥ä½: "CCD8", ç›¸æœº: "MV-CS016-10GC", é•œå¤´: "FA 50mm 1:2.8 1/1''+åå°„é•œ", æ£€æµ‹é¡¹: "ä¾§é¢", å…‰æº: "ç™½è‰²ç¯èƒŒå…‰", "å•åƒç´ ç²¾åº¦ (Î¼m)": 6.254, åˆ†è¾¨ç‡: "1440Ã—1080", è§†é‡: "9.006Ã—6.754", ç›¸å…ƒå°ºå¯¸: 3.45 },
                    { å·¥ä½: "CCD9", ç›¸æœº: "MV-CS016-10GC", é•œå¤´: "FA 50mm 1:2.8 1/1''+åå°„é•œ", æ£€æµ‹é¡¹: "ä¾§é¢", å…‰æº: "", "å•åƒç´ ç²¾åº¦ (Î¼m)": 5.542, åˆ†è¾¨ç‡: "1440Ã—1080", è§†é‡: "7.980Ã—5.985", ç›¸å…ƒå°ºå¯¸: 3.45 },
                    { å·¥ä½: "CCD10", ç›¸æœº: "MV-CS016-10GC", é•œå¤´: "FA 50mm 1:2.8 1/1''+åå°„é•œ", æ£€æµ‹é¡¹: "ä¾§é¢", å…‰æº: "", "å•åƒç´ ç²¾åº¦ (Î¼m)": 5.33, åˆ†è¾¨ç‡: "1440Ã—1080", è§†é‡: "7.675Ã—5.756", ç›¸å…ƒå°ºå¯¸: 3.45 },
                    { å·¥ä½: "CCD11", ç›¸æœº: "MV-CS016-10GC", é•œå¤´: "FA 50mm 1:2.8 1/1''+åå°„é•œ", æ£€æµ‹é¡¹: "ä¾§é¢", å…‰æº: "", "å•åƒç´ ç²¾åº¦ (Î¼m)": 6.112, åˆ†è¾¨ç‡: "1440Ã—1080", è§†é‡: "8.801Ã—6.601", ç›¸å…ƒå°ºå¯¸: 3.45 },
                    { å·¥ä½: "CCD12", ç›¸æœº: "MV-CS016-10GC", é•œå¤´: "FA 50mm 1:2.8 1/1''", æ£€æµ‹é¡¹: "ä¸Šè¡¨é¢", å…‰æº: "æ­£å‘åŒå¹³é¢ç™½å…‰", "å•åƒç´ ç²¾åº¦ (Î¼m)": 7.384, åˆ†è¾¨ç‡: "1440Ã—1080", è§†é‡: "10.633Ã—7.975", ç›¸å…ƒå°ºå¯¸: 3.45 },
                    { å·¥ä½: "CCD13", ç›¸æœº: "MV-CS016-10GC", é•œå¤´: "FA 50mm 1:2.8 1/1''", æ£€æµ‹é¡¹: "ä¸‹è¡¨é¢", å…‰æº: "æ­£å‘åŒå¹³é¢ç™½å…‰", "å•åƒç´ ç²¾åº¦ (Î¼m)": 7.228, åˆ†è¾¨ç‡: "1440Ã—1080", è§†é‡: "10.408Ã—7.806", ç›¸å…ƒå°ºå¯¸: 3.45 }
                ]
            },
            {
                è®¾å¤‡å·: "E6",
                å‚å•†: "AJ",
                CPU: "i7-13700",
                GPU: "RTX3060",
                å†…å­˜: 16,
                å·¥ä½: [
                    { å·¥ä½: "CCD1", ç›¸æœº: "MV-CS016-10GM", é•œå¤´: "FA 50mm 1:1.8 2/3''+5mmæ¥åœˆ", æ£€æµ‹é¡¹: "ä¸‹è¡¨é¢", å…‰æº: "ç™½è‰²åŒè½´å…‰+ç™½è‰²å¹³é¢èƒŒå…‰", "å•åƒç´ ç²¾åº¦ (Î¼m)": 21.0, åˆ†è¾¨ç‡: "1440Ã—1080", è§†é‡: "30.240Ã—22.680", ç›¸å…ƒå°ºå¯¸: 3.45 },
                    { å·¥ä½: "CCD2", ç›¸æœº: "MV-CS016-10GM", é•œå¤´: "", æ£€æµ‹é¡¹: "å¹³é¢å°ºå¯¸", å…‰æº: "ç™½è‰²å¹³é¢èƒŒå…‰", "å•åƒç´ ç²¾åº¦ (Î¼m)": 9.008, åˆ†è¾¨ç‡: "1440Ã—1080", è§†é‡: "12.972Ã—9.729", ç›¸å…ƒå°ºå¯¸: 3.45 },
                    { å·¥ä½: "CCD3", ç›¸æœº: "MV-CS016-10GM", é•œå¤´: "", æ£€æµ‹é¡¹: "åšåº¦å°ºå¯¸", å…‰æº: "ç™½è‰²å¹³é¢èƒŒå…‰", "å•åƒç´ ç²¾åº¦ (Î¼m)": 24.186, åˆ†è¾¨ç‡: "1440Ã—1080", è§†é‡: "34.828Ã—26.121", ç›¸å…ƒå°ºå¯¸: 3.45 },
                    { å·¥ä½: "CCD4", ç›¸æœº: "MV-CS016-10GM", é•œå¤´: "FA 50mm 1:1.8 2/3''+5mmæ¥åœˆ", æ£€æµ‹é¡¹: "ä¸Šè¡¨é¢", å…‰æº: "ç™½è‰²åŒè½´å…‰+ç™½è‰²å¹³é¢èƒŒå…‰", "å•åƒç´ ç²¾åº¦ (Î¼m)": 22.8, åˆ†è¾¨ç‡: "1440Ã—1080", è§†é‡: "32.832Ã—24.624", ç›¸å…ƒå°ºå¯¸: 3.45 },
                    { å·¥ä½: "CCD7", ç›¸æœº: "MV-CS016-10GM", é•œå¤´: "", æ£€æµ‹é¡¹: "", å…‰æº: "", "å•åƒç´ ç²¾åº¦ (Î¼m)": 0.0, åˆ†è¾¨ç‡: "", è§†é‡: "", ç›¸å…ƒå°ºå¯¸: 0.0 },
                    { å·¥ä½: "CCD8", ç›¸æœº: "MV-CS016-10GM", é•œå¤´: "", æ£€æµ‹é¡¹: "ä¾§é¢", å…‰æº: "ç™½è‰²ç¯èƒŒå…‰", "å•åƒç´ ç²¾åº¦ (Î¼m)": 14.831, åˆ†è¾¨ç‡: "1440Ã—1080", è§†é‡: "21.357Ã—16.017", ç›¸å…ƒå°ºå¯¸: 3.45 },
                    { å·¥ä½: "CCD9", ç›¸æœº: "MV-CS016-10GM", é•œå¤´: "", æ£€æµ‹é¡¹: "ä¾§é¢", å…‰æº: "", "å•åƒç´ ç²¾åº¦ (Î¼m)": 15.8121, åˆ†è¾¨ç‡: "1440Ã—1080", è§†é‡: "22.769Ã—17.077", ç›¸å…ƒå°ºå¯¸: 3.45 },
                    { å·¥ä½: "CCD10", ç›¸æœº: "MV-CS016-10GM", é•œå¤´: "", æ£€æµ‹é¡¹: "ä¾§é¢", å…‰æº: "", "å•åƒç´ ç²¾åº¦ (Î¼m)": 27.47, åˆ†è¾¨ç‡: "1440Ã—1080", è§†é‡: "39.557Ã—29.668", ç›¸å…ƒå°ºå¯¸: 3.45 },
                    { å·¥ä½: "CCD11", ç›¸æœº: "MV-CS016-10GM", é•œå¤´: "", æ£€æµ‹é¡¹: "ä¾§é¢", å…‰æº: "", "å•åƒç´ ç²¾åº¦ (Î¼m)": 27.47, åˆ†è¾¨ç‡: "1440Ã—1080", è§†é‡: "39.557Ã—29.668", ç›¸å…ƒå°ºå¯¸: 3.45 },
                    { å·¥ä½: "CCD12", ç›¸æœº: "MV-CS016-10GM", é•œå¤´: "", æ£€æµ‹é¡¹: "", å…‰æº: "", "å•åƒç´ ç²¾åº¦ (Î¼m)": 12.8, åˆ†è¾¨ç‡: "1440Ã—1080", è§†é‡: "18.432Ã—13.824", ç›¸å…ƒå°ºå¯¸: 3.45 },
                    { å·¥ä½: "CCD13", ç›¸æœº: "MV-CS016-10GM", é•œå¤´: "", æ£€æµ‹é¡¹: "", å…‰æº: "", "å•åƒç´ ç²¾åº¦ (Î¼m)": 12.7, åˆ†è¾¨ç‡: "1440Ã—1080", è§†é‡: "18.288Ã—13.716", ç›¸å…ƒå°ºå¯¸: 3.45 }
                ]
            }
        ];

        // ==================== ä¸»è®¡ç®—å‡½æ•° ====================
        function calculateLenses() {
            // æ˜¾ç¤ºåŠ è½½æŒ‡ç¤ºå™¨
            document.getElementById("loadingIndicator").style.display = "block";
            
            // ä½¿ç”¨setTimeoutè®©UIæœ‰æœºä¼šæ›´æ–°
            setTimeout(() => {
                try {
                    const length = parseFloat(document.getElementById("productLength").value);
                    const width = parseFloat(document.getElementById("productWidth").value);
                    const thickness = parseFloat(document.getElementById("productThickness").value);

                    const flatDim = document.getElementById("flatDimension").checked;
                    const thickDim = document.getElementById("thicknessDimension").checked;
                    const topSurf = document.getElementById("topSurface").checked;
                    const botSurf = document.getElementById("bottomSurface").checked;
                    const sideSurf = document.getElementById("sideSurface").checked;
                    const gray = document.getElementById("grayscale").checked;
                    const endFace = document.getElementById("endFace").checked;
                    const faceDiff = document.getElementById("faceDifference").checked;
                    const eddyCurrent = document.getElementById("eddyCurrent").checked; // æ¶¡æµæ£€æµ‹

                    const checkedItems = [flatDim, thickDim, topSurf, botSurf, sideSurf, gray, endFace, faceDiff, eddyCurrent];
                    const selectedCount = checkedItems.filter(Boolean).length;

                    let results = [];

                    // 0. æ— ä»»ä½•å‹¾é€‰
                    if (selectedCount === 0) {
                        results = detailedDevices.map(d => ({
                            deviceID: d.è®¾å¤‡å·,
                            matchScore: 100,
                            precision: 0,
                            flatPrecision: 0,
                            thicknessPrecision: 0,
                            topPrecision: 0,
                            bottomPrecision: 0,
                            sidePrecision: 0,
                            eddyCurrentPrecision: 0
                        })).sort((a, b) => a.deviceID.localeCompare(b.deviceID));
                    }
                    // 1. åªå‹¾é€‰"æ¶¡æµæ£€æµ‹"
                    else if (selectedCount === 1 && eddyCurrent) {
                        results = filterByEddyCurrent();
                    }
                    // 2. åªå‹¾é€‰"å¹³é¢å°ºå¯¸"
                    else if (selectedCount === 1 && flatDim) {
                        results = filterByFlatDimension(length, width);
                    }
                    // 3. åªå‹¾é€‰"åšåº¦å°ºå¯¸"
                    else if (selectedCount === 1 && thickDim) {
                        results = filterByThickness(thickness);
                    }
                    // 4. åªå‹¾é€‰"ä¸Š/ä¸‹/ä¾§/ç°åº¦"ä¸­çš„ä¸€ä¸ª
                    else if (selectedCount === 1 && (topSurf || botSurf || sideSurf || gray)) {
                        const item = topSurf ? "ä¸Šè¡¨é¢" : botSurf ? "ä¸‹è¡¨é¢" : sideSurf ? "ä¾§é¢" : "ç°åº¦";
                        results = filterBySurface(item, length, width);
                    }
                    // 5. åªå‹¾é€‰"ç«¯é¢"
                    else if (selectedCount === 1 && endFace) {
                        results = filterByEndFace(thickness);
                    }
                    // 6. åªå‹¾é€‰"é¢å·®"
                    else if (selectedCount === 1 && faceDiff) {
                        results = filterByFaceDifference(width);
                    }
                    // 7-14. å¤šä¸ªæ£€æµ‹é¡¹çš„ç»„åˆï¼ˆåŒ…æ‹¬æ¶¡æµæ£€æµ‹ï¼‰
                    else if (selectedCount > 1) {
                        results = filterByMultipleCriteria(
                            length, width, thickness,
                            flatDim, thickDim, topSurf, botSurf, sideSurf, gray, endFace, faceDiff, eddyCurrent
                        );
                    }
                    // å…¶ä»–æƒ…å†µ
                    else {
                        alert("è¯·é€‰æ‹©æ£€æµ‹é¡¹è¿›è¡Œç­›é€‰ï¼Œæˆ–ä¸å‹¾é€‰ä»¥æŸ¥çœ‹æ‰€æœ‰è®¾å¤‡ã€‚");
                        document.getElementById("loadingIndicator").style.display = "none";
                        return;
                    }

                    if (results.length === 0) {
                        alert("æ²¡æœ‰æ‰¾åˆ°ç¬¦åˆçš„è®¾å¤‡");
                        document.getElementById("lensResults").innerHTML = "";
                        document.getElementById("loadingIndicator").style.display = "none";
                        return;
                    }

                    // è®¡ç®—åŒ¹é…åº¦
                    if (selectedCount > 0) {
                        const precisions = results.map(r => r.precision);
                        const minPrec = Math.min(...precisions);
                        const maxPrec = Math.max(...precisions);
                        const range = maxPrec - minPrec || 1;

                        results.forEach(r => {
                            r.matchScore = (-0.7 * (r.precision / range)) + (1 + 0.7 * (minPrec / range));
                            r.matchScore = Math.max(0, Math.min(100, r.matchScore * 100)).toFixed(1);
                        });
                    }

                    displayResults(results);
                } catch (error) {
                    console.error("è®¡ç®—è¿‡ç¨‹ä¸­å‡ºé”™:", error);
                    alert("è®¡ç®—è¿‡ç¨‹ä¸­å‘ç”Ÿé”™è¯¯ï¼Œè¯·æ£€æŸ¥è¾“å…¥æ•°æ®");
                } finally {
                    // éšè—åŠ è½½æŒ‡ç¤ºå™¨
                    document.getElementById("loadingIndicator").style.display = "none";
                }
            }, 100);
        }

        // ==================== è¾…åŠ©å‡½æ•° ====================
        function parseFOV(fovStr) {
            if (!fovStr) return null;
            const [w, h] = fovStr.split('Ã—').map(parseFloat);
            return isNaN(w) || isNaN(h) ? null : { w, h };
        }

        function getPrecisionForItem(device, itemName) {
            const ccds = device.å·¥ä½.filter(w => w.æ£€æµ‹é¡¹.includes(itemName));
            if (ccds.length === 0) return Infinity;
            return Math.min(...ccds.map(ccd => ccd["å•åƒç´ ç²¾åº¦ (Î¼m)"] || Infinity));
        }

        function hasItem(device, itemName) {
            return device.å·¥ä½.some(w => w.æ£€æµ‹é¡¹.includes(itemName));
        }

        // ==================== æ¶¡æµæ£€æµ‹ç­›é€‰å‡½æ•° ====================
        function filterByEddyCurrent() {
            const results = [];
            detailedDevices.forEach(d => {
                const ccds = d.å·¥ä½.filter(w => w.æ£€æµ‹é¡¹.includes("æ¶¡æµæ£€æµ‹"));
                if (ccds.length === 0) return;
                
                // æ¶¡æµæ£€æµ‹ä¸éœ€è¦è§†é‡æ£€æŸ¥ï¼Œåªè¦æœ‰è¯¥æ£€æµ‹é¡¹å³å¯
                results.push({
                    deviceID: d.è®¾å¤‡å·,
                    precision: 0, // æ¶¡æµæ£€æµ‹æ²¡æœ‰åƒç´ ç²¾åº¦æ¦‚å¿µ
                    eddyCurrentPrecision: 0
                });
            });
            return results.sort((a, b) => a.deviceID.localeCompare(b.deviceID));
        }

        // ==================== å…¶ä»–ç­›é€‰å‡½æ•° ====================
        function filterByFlatDimension(length, width) {
            const results = [];
            detailedDevices.forEach(d => {
                const ccd = d.å·¥ä½.find(w => w.æ£€æµ‹é¡¹ === "å¹³é¢å°ºå¯¸");
                if (!ccd) return;
                const fov = parseFOV(ccd.è§†é‡);
                if (!fov || length > fov.w || width > fov.h) return;
                results.push({
                    deviceID: d.è®¾å¤‡å·,
                    precision: ccd["å•åƒç´ ç²¾åº¦ (Î¼m)"],
                    flatPrecision: ccd["å•åƒç´ ç²¾åº¦ (Î¼m)"],
                    hFOV: fov.w,
                    vFOV: fov.h
                });
            });
            return results.sort((a, b) => a.precision - b.precision);
        }

        function filterByThickness(thickness) {
            const results = [];
            detailedDevices.forEach(d => {
                const ccd = d.å·¥ä½.find(w => ["åšåº¦", "åšåº¦å°ºå¯¸"].includes(w.æ£€æµ‹é¡¹));
                if (!ccd) return;
                const fov = parseFOV(ccd.è§†é‡);
                if (!fov || thickness > fov.h) return;
                results.push({
                    deviceID: d.è®¾å¤‡å·,
                    precision: ccd["å•åƒç´ ç²¾åº¦ (Î¼m)"],
                    thicknessPrecision: ccd["å•åƒç´ ç²¾åº¦ (Î¼m)"],
                    vFOV: fov.h
                });
            });
            return results.sort((a, b) => a.precision - b.precision);
        }

        function filterBySurface(item, length, width) {
            const results = [];
            detailedDevices.forEach(d => {
                const ccds = d.å·¥ä½.filter(w => w.æ£€æµ‹é¡¹.includes(item === "ç°åº¦" ? "ç°åº¦" : item));
                if (ccds.length === 0) return;
                
                const valid = ccds.some(ccd => {
                    const fov = parseFOV(ccd.è§†é‡);
                    return fov && length <= fov.w && width <= fov.h;
                });
                
                if (!valid) return;
                
                const minPrecision = Math.min(...ccds.map(ccd => ccd["å•åƒç´ ç²¾åº¦ (Î¼m)"] || Infinity));
                results.push({
                    deviceID: d.è®¾å¤‡å·,
                    precision: minPrecision,
                    [item === "ä¸Šè¡¨é¢" ? "topPrecision" : 
                     item === "ä¸‹è¡¨é¢" ? "bottomPrecision" : 
                     item === "ä¾§é¢" ? "sidePrecision" : "grayPrecision"]: minPrecision
                });
            });
            return results.sort((a, b) => a.precision - b.precision);
        }

        function filterByEndFace(thickness) {
            const results = [];
            detailedDevices.forEach(d => {
                const ccds = d.å·¥ä½.filter(w => w.æ£€æµ‹é¡¹.includes("ç«¯é¢"));
                if (ccds.length === 0) return;
                
                const minFOV = Math.min(...ccds.map(ccd => {
                    const fov = parseFOV(ccd.è§†é‡);
                    return fov ? Math.min(fov.w, fov.h) : Infinity;
                }));
                
                if (minFOV <= thickness) return;
                
                const minPrecision = Math.min(...ccds.map(ccd => ccd["å•åƒç´ ç²¾åº¦ (Î¼m)"] || Infinity));
                results.push({
                    deviceID: d.è®¾å¤‡å·,
                    precision: minPrecision,
                    endFacePrecision: minPrecision
                });
            });
            return results.sort((a, b) => a.precision - b.precision);
        }

        function filterByFaceDifference(width) {
            const results = [];
            detailedDevices.forEach(d => {
                const ccds = d.å·¥ä½.filter(w => w.æ£€æµ‹é¡¹.includes("é¢å·®"));
                if (ccds.length === 0) return;
                
                const minFOV = Math.min(...ccds.map(ccd => {
                    const fov = parseFOV(ccd.è§†é‡);
                    return fov ? Math.min(fov.w, fov.h) : Infinity;
                }));
                
                if (minFOV <= width) return;
                
                const minPrecision = Math.min(...ccds.map(ccd => ccd["å•åƒç´ ç²¾åº¦ (Î¼m)"] || Infinity));
                results.push({
                    deviceID: d.è®¾å¤‡å·,
                    precision: minPrecision,
                    faceDiffPrecision: minPrecision
                });
            });
            return results.sort((a, b) => a.precision - b.precision);
        }


        
// ==================== å¤šæ¡ä»¶ç­›é€‰å‡½æ•° ====================
function filterByMultipleCriteria(length, width, thickness, flatDim, thickDim, topSurf, botSurf, sideSurf, gray, endFace, faceDiff, eddyCurrent) {
    const results = [];
    
    detailedDevices.forEach(d => {
        let isValid = true;
        let precisionSum = 0;
        let precisionCount = 0;
        const result = {
            deviceID: d.è®¾å¤‡å·,
            flatPrecision: Infinity,
            thicknessPrecision: Infinity,
            topPrecision: Infinity,
            bottomPrecision: Infinity,
            sidePrecision: Infinity,
            grayPrecision: Infinity,
            endFacePrecision: Infinity,
            faceDiffPrecision: Infinity,
            eddyCurrentPrecision: Infinity
        };
        
        // æ£€æŸ¥æ¶¡æµæ£€æµ‹ - åªæ£€æŸ¥æ˜¯å¦å­˜åœ¨è¯¥æ£€æµ‹é¡¹
        if (eddyCurrent) {
            const ccds = d.å·¥ä½.filter(w => w.æ£€æµ‹é¡¹.includes("æ¶¡æµæ£€æµ‹"));
            if (ccds.length === 0) {
                isValid = false;
            } else {
                result.eddyCurrentPrecision = 0;
                // æ¶¡æµæ£€æµ‹ä¸å‚ä¸ç²¾åº¦è®¡ç®—ï¼Œåªä½œä¸ºå¿…è¦æ¡ä»¶
            }
        }
        
        // æ£€æŸ¥é¢å·®æ£€æµ‹ - åªæ£€æŸ¥æ˜¯å¦å­˜åœ¨è¯¥æ£€æµ‹é¡¹
        if (isValid && faceDiff) {
            const ccds = d.å·¥ä½.filter(w => w.æ£€æµ‹é¡¹.includes("é¢å·®"));
            if (ccds.length === 0) {
                isValid = false;
            } else {
                result.faceDiffPrecision = 0;
                // é¢å·®æ£€æµ‹ä¸å‚ä¸ç²¾åº¦è®¡ç®—ï¼Œåªä½œä¸ºå¿…è¦æ¡ä»¶
            }
        }
        
        // æ£€æŸ¥å¹³é¢å°ºå¯¸
        if (isValid && flatDim) {
            const ccd = d.å·¥ä½.find(w => w.æ£€æµ‹é¡¹ === "å¹³é¢å°ºå¯¸");
            if (!ccd) {
                isValid = false;
            } else {
                const fov = parseFOV(ccd.è§†é‡);
                if (!fov || length > fov.w || width > fov.h) {
                    isValid = false;
                } else {
                    result.flatPrecision = ccd["å•åƒç´ ç²¾åº¦ (Î¼m)"];
                    precisionSum += result.flatPrecision;
                    precisionCount++;
                }
            }
        }
        
        // æ£€æŸ¥åšåº¦å°ºå¯¸
        if (isValid && thickDim) {
            const ccd = d.å·¥ä½.find(w => ["åšåº¦", "åšåº¦å°ºå¯¸"].includes(w.æ£€æµ‹é¡¹));
            if (!ccd) {
                isValid = false;
            } else {
                const fov = parseFOV(ccd.è§†é‡);
                if (!fov || thickness > fov.h) {
                    isValid = false;
                } else {
                    result.thicknessPrecision = ccd["å•åƒç´ ç²¾åº¦ (Î¼m)"];
                    precisionSum += result.thicknessPrecision;
                    precisionCount++;
                }
            }
        }
        
        // æ£€æŸ¥ç«¯é¢
        if (isValid && endFace) {
            const ccds = d.å·¥ä½.filter(w => w.æ£€æµ‹é¡¹.includes("ç«¯é¢"));
            if (ccds.length === 0) {
                isValid = false;
            } else {
                const minFOV = Math.min(...ccds.map(ccd => {
                    const fov = parseFOV(ccd.è§†é‡);
                    return fov ? Math.min(fov.w, fov.h) : Infinity;
                }));
                if (minFOV <= thickness) {
                    isValid = false;
                } else {
                    result.endFacePrecision = Math.min(...ccds.map(ccd => ccd["å•åƒç´ ç²¾åº¦ (Î¼m)"] || Infinity));
                    precisionSum += result.endFacePrecision;
                    precisionCount++;
                }
            }
        }
        
        // æ£€æŸ¥ä¸Šè¡¨é¢
        if (isValid && topSurf) {
            const ccds = d.å·¥ä½.filter(w => w.æ£€æµ‹é¡¹.includes("ä¸Šè¡¨é¢"));
            if (ccds.length === 0) {
                isValid = false;
            } else {
                const validCcd = ccds.find(ccd => {
                    const fov = parseFOV(ccd.è§†é‡);
                    return fov && length <= fov.w && width <= fov.h;
                });
                if (!validCcd) {
                    isValid = false;
                } else {
                    result.topPrecision = Math.min(...ccds.map(ccd => ccd["å•åƒç´ ç²¾åº¦ (Î¼m)"] || Infinity));
                    precisionSum += result.topPrecision;
                    precisionCount++;
                }
            }
        }
        
        // æ£€æŸ¥ä¸‹è¡¨é¢
        if (isValid && botSurf) {
            const ccds = d.å·¥ä½.filter(w => w.æ£€æµ‹é¡¹.includes("ä¸‹è¡¨é¢"));
            if (ccds.length === 0) {
                isValid = false;
            } else {
                const validCcd = ccds.find(ccd => {
                    const fov = parseFOV(ccd.è§†é‡);
                    return fov && length <= fov.w && width <= fov.h;
                });
                if (!validCcd) {
                    isValid = false;
                } else {
                    result.bottomPrecision = Math.min(...ccds.map(ccd => ccd["å•åƒç´ ç²¾åº¦ (Î¼m)"] || Infinity));
                    precisionSum += result.bottomPrecision;
                    precisionCount++;
                }
            }
        }
        
        // æ£€æŸ¥ä¾§é¢
        if (isValid && sideSurf) {
            const ccds = d.å·¥ä½.filter(w => w.æ£€æµ‹é¡¹.includes("ä¾§é¢"));
            if (ccds.length === 0) {
                isValid = false;
            } else {
                const validCcd = ccds.find(ccd => {
                    const fov = parseFOV(ccd.è§†é‡);
                    return fov && length <= fov.w && width <= fov.h;
                });
                if (!validCcd) {
                    isValid = false;
                } else {
                    result.sidePrecision = Math.min(...ccds.map(ccd => ccd["å•åƒç´ ç²¾åº¦ (Î¼m)"] || Infinity));
                    precisionSum += result.sidePrecision;
                    precisionCount++;
                }
            }
        }
        
        // æ£€æŸ¥ç°åº¦
        if (isValid && gray) {
            const ccds = d.å·¥ä½.filter(w => w.æ£€æµ‹é¡¹.includes("ç°åº¦"));
            if (ccds.length === 0) {
                isValid = false;
            } else {
                const validCcd = ccds.find(ccd => {
                    const fov = parseFOV(ccd.è§†é‡);
                    return fov && length <= fov.w && width <= fov.h;
                });
                if (!validCcd) {
                    isValid = false;
                } else {
                    result.grayPrecision = Math.min(...ccds.map(ccd => ccd["å•åƒç´ ç²¾åº¦ (Î¼m)"] || Infinity));
                    precisionSum += result.grayPrecision;
                    precisionCount++;
                }
            }
        }
        
        if (isValid) {
            // å¦‚æœåªæœ‰æ¶¡æµæ£€æµ‹æˆ–é¢å·®æ£€æµ‹ï¼Œè®¾ç½®ä¸€ä¸ªé»˜è®¤ç²¾åº¦
            if (precisionCount === 0 && (eddyCurrent || faceDiff)) {
                result.precision = 0;
            } else {
                result.precision = precisionSum / precisionCount;
            }
            results.push(result);
        }
    });
    
    // å¤šçº§æ’åºé€»è¾‘
    return results.sort((a, b) => {
        // å®šä¹‰æ’åºä¼˜å…ˆçº§
        const priorities = [
            { key: 'flatPrecision', condition: flatDim },
            { key: 'thicknessPrecision', condition: thickDim },
            { key: 'endFacePrecision', condition: endFace },
            { key: 'topPrecision', condition: topSurf },
            { key: 'bottomPrecision', condition: botSurf },
            { key: 'sidePrecision', condition: sideSurf },
            { key: 'grayPrecision', condition: gray }
        ];
        
        // è¿‡æ»¤å‡ºå®é™…å‹¾é€‰çš„æ£€æµ‹é¡¹
        const activePriorities = priorities.filter(p => p.condition);
        
        // é€’å½’æ’åºå‡½æ•°
        function recursiveSort(a, b, priorityIndex) {
            if (priorityIndex >= activePriorities.length) {
                return 0; // æ‰€æœ‰ä¼˜å…ˆçº§éƒ½ç›¸åŒ
            }
            
            const currentPriority = activePriorities[priorityIndex];
            const aValue = Math.round(a[currentPriority.key]);
            const bValue = Math.round(b[currentPriority.key]);
            const diff = Math.abs(aValue - bValue);
            
            // å¦‚æœå½“å‰ä¼˜å…ˆçº§ç²¾åº¦å·®å°äº5ï¼Œåˆ™è¿›å…¥ä¸‹ä¸€çº§ä¼˜å…ˆçº§
            if (diff < 5 && priorityIndex < activePriorities.length - 1) {
                const nextResult = recursiveSort(a, b, priorityIndex + 1);
                if (nextResult !== 0) {
                    return nextResult;
                }
            }
            
            // æŒ‰å½“å‰ä¼˜å…ˆçº§æ’åº
            return aValue - bValue;
        }
        
        // å¼€å§‹é€’å½’æ’åº
        return recursiveSort(a, b, 0);
    });
}




// ==================== ç»“æœæ˜¾ç¤º ====================
function displayResults(results) {
    const tableBody = document.getElementById("lensResults");
    tableBody.innerHTML = "";

    if (results.length === 0) {
        alert("æ²¡æœ‰æ‰¾åˆ°ç¬¦åˆçš„è®¾å¤‡");
        document.getElementById("loadingIndicator").style.display = "none";
        return;
    }

    // è®¡ç®—åŒ¹é…åº¦
    const selectedCount = getSelectedCount();
    if (selectedCount > 0) {
        const precisions = results.map(r => Math.round(r.precision));
        const minPrec = Math.min(...precisions);
        const maxPrec = Math.max(...precisions);
        const range = maxPrec - minPrec || 1;

        results.forEach(r => {
            const roundedPrecision = Math.round(r.precision);
            r.matchScore = (-0.7 * (roundedPrecision / range)) + (1 + 0.7 * (minPrec / range));
            r.matchScore = Math.max(0, Math.min(100, r.matchScore * 100)).toFixed(1);
        });
    }

    results.forEach((result, index) => {
        const deviceData = detailedDevices.find(d => d.è®¾å¤‡å· === result.deviceID);
        if (!deviceData) return;

        const stationCount = deviceData.å·¥ä½.length;
        const hasSide = deviceData.å·¥ä½.some(ccd => ccd.æ£€æµ‹é¡¹.includes("ä¾§é¢")) ? "æœ‰" : "æ— ";
        const hasGrayscale = deviceData.å·¥ä½.some(ccd => ccd.æ£€æµ‹é¡¹.includes("ç°åº¦")) ? "æœ‰" : "æ— ";
        const hasEndFace = deviceData.å·¥ä½.some(ccd => ccd.æ£€æµ‹é¡¹.includes("ç«¯é¢")) ? "æœ‰" : "æ— ";
        const hasEddyCurrent = deviceData.å·¥ä½.some(ccd => ccd.æ£€æµ‹é¡¹.includes("æ¶¡æµæ£€æµ‹")) ? "æœ‰" : "æ— ";

        const matchClass = result.matchScore >= 70 ? "match-high" :
                           result.matchScore >= 50 ? "match-medium" : "match-low";

        const summaryRow = document.createElement("tr");
        summaryRow.classList.add("summary-row");
        if (index === 0) summaryRow.classList.add("recommended");
        summaryRow.setAttribute("data-expanded", "false");
        summaryRow.style.cursor = "pointer";

        summaryRow.innerHTML = `
            <td><strong>${result.deviceID}</strong></td>
            <td>${stationCount}</td>
            <td>${hasSide}</td>
            <td>${hasGrayscale}</td>
            <td>${hasEndFace}</td>
            <td>${hasEddyCurrent}</td>
            <td><span class="match-score ${matchClass}">${result.matchScore}%</span></td>
        `;

        const detailRow = document.createElement("tr");
        detailRow.classList.add("detail-row");
        detailRow.innerHTML = `<td colspan="7"></td>`;
        detailRow.style.display = "none";

        const detailContent = detailRow.querySelector("td");
        const detailTable = createDetailTable(deviceData);
        detailContent.appendChild(detailTable);

        summaryRow.addEventListener("click", function () {
            const isExpanded = this.getAttribute("data-expanded") === "true";
            document.querySelectorAll(".detail-row").forEach(row => row.style.display = "none");
            document.querySelectorAll(".summary-row").forEach(row => row.setAttribute("data-expanded", "false"));
            if (!isExpanded) {
                detailRow.style.display = "table-row";
                this.setAttribute("data-expanded", "true");
            }
        });

        tableBody.appendChild(summaryRow);
        tableBody.appendChild(detailRow);
    });
}

// è¾…åŠ©å‡½æ•°ï¼šè·å–é€‰ä¸­çš„æ£€æµ‹é¡¹æ•°é‡
function getSelectedCount() {
    const flatDim = document.getElementById("flatDimension").checked;
    const thickDim = document.getElementById("thicknessDimension").checked;
    const topSurf = document.getElementById("topSurface").checked;
    const botSurf = document.getElementById("bottomSurface").checked;
    const sideSurf = document.getElementById("sideSurface").checked;
    const gray = document.getElementById("grayscale").checked;
    const endFace = document.getElementById("endFace").checked;
    const faceDiff = document.getElementById("faceDifference").checked;
    const eddyCurrent = document.getElementById("eddyCurrent").checked;

    const checkedItems = [flatDim, thickDim, topSurf, botSurf, sideSurf, gray, endFace, faceDiff, eddyCurrent];
    return checkedItems.filter(Boolean).length;
}



        // ==================== ç»“æœæ˜¾ç¤º ====================
        function displayResults(results) {
            const tableBody = document.getElementById("lensResults");
            tableBody.innerHTML = "";

            results.forEach((result, index) => {
                const deviceData = detailedDevices.find(d => d.è®¾å¤‡å· === result.deviceID);
                if (!deviceData) return;

                const stationCount = deviceData.å·¥ä½.length;
                const hasSide = deviceData.å·¥ä½.some(ccd => ccd.æ£€æµ‹é¡¹.includes("ä¾§é¢")) ? "æœ‰" : "æ— ";
                const hasGrayscale = deviceData.å·¥ä½.some(ccd => ccd.æ£€æµ‹é¡¹.includes("ç°åº¦")) ? "æœ‰" : "æ— ";
                const hasEndFace = deviceData.å·¥ä½.some(ccd => ccd.æ£€æµ‹é¡¹.includes("ç«¯é¢")) ? "æœ‰" : "æ— ";
                const hasEddyCurrent = deviceData.å·¥ä½.some(ccd => ccd.æ£€æµ‹é¡¹.includes("æ¶¡æµæ£€æµ‹")) ? "æœ‰" : "æ— ";

                const matchClass = result.matchScore >= 70 ? "match-high" :
                                   result.matchScore >= 50 ? "match-medium" : "match-low";

                const summaryRow = document.createElement("tr");
                summaryRow.classList.add("summary-row");
                if (index === 0) summaryRow.classList.add("recommended");
                summaryRow.setAttribute("data-expanded", "false");
                summaryRow.style.cursor = "pointer";

                summaryRow.innerHTML = `
                    <td><strong>${result.deviceID}</strong></td>
                    <td>${stationCount}</td>
                    <td>${hasSide}</td>
                    <td>${hasGrayscale}</td>
                    <td>${hasEndFace}</td>
                    <td>${hasEddyCurrent}</td>
                    <td><span class="match-score ${matchClass}">${result.matchScore}%</span></td>
                `;

                const detailRow = document.createElement("tr");
                detailRow.classList.add("detail-row");
                detailRow.innerHTML = `<td colspan="7"></td>`;
                detailRow.style.display = "none";

                const detailContent = detailRow.querySelector("td");
                const detailTable = createDetailTable(deviceData);
                detailContent.appendChild(detailTable);

                summaryRow.addEventListener("click", function () {
                    const isExpanded = this.getAttribute("data-expanded") === "true";
                    document.querySelectorAll(".detail-row").forEach(row => row.style.display = "none");
                    document.querySelectorAll(".summary-row").forEach(row => row.setAttribute("data-expanded", "false"));
                    if (!isExpanded) {
                        detailRow.style.display = "table-row";
                        this.setAttribute("data-expanded", "true");
                    }
                });

                tableBody.appendChild(summaryRow);
                tableBody.appendChild(detailRow);
            });
        }

        function createDetailTable(device) {
            const table = document.createElement("table");
            table.className = "detail-table";
            table.innerHTML = `
                <thead>
                    <tr>
                        <th>è®¾å¤‡å·</th><th>å‚å•†</th><th>CPU</th><th>GPU</th><th>å†…å­˜(GB)</th>
                        <th>å·¥ä½</th><th>ç›¸æœº</th><th>é•œå¤´</th><th>æ£€æµ‹é¡¹</th><th>å…‰æº</th>
                        <th>å•åƒç´ ç²¾åº¦ (Î¼m)</th><th>åˆ†è¾¨ç‡</th>
                        <th>è§†é‡(mm)</th><th>ç›¸å…ƒå°ºå¯¸(Î¼m)</th>
                    </tr>
                </thead>
                <tbody></tbody>
            `;
            const tbody = table.querySelector("tbody");

            device.å·¥ä½.forEach((ccd, i) => {
                const row = document.createElement("tr");
                row.className = i === 0 ? "device-header" : "ccd-row";

                let cameraLensCell = `<td>${ccd.ç›¸æœº || ''}</td><td>${ccd.é•œå¤´ || ''}</td>`;
                let lightCell = `<td>${ccd.å…‰æº || ''}</td>`;

                if (ccd.å·¥ä½ === "CCD5" || ccd.å·¥ä½ === "CCD6") {
                    cameraLensCell = `<td colspan="2" style="text-align: center;">${ccd.ç›¸æœº || ''}</td>`;
                }

                row.innerHTML = `
                    ${i === 0 ? `
                    <td rowspan="${device.å·¥ä½.length}">${device.è®¾å¤‡å·}</td>
                    <td rowspan="${device.å·¥ä½.length}">${device.å‚å•†}</td>
                    <td rowspan="${device.å·¥ä½.length}">${device.CPU}</td>
                    <td rowspan="${device.å·¥ä½.length}">${device.GPU}</td>
                    <td rowspan="${device.å·¥ä½.length}">${device.å†…å­˜}</td>` : ''}
                    <td>${ccd.å·¥ä½}</td>
                    ${cameraLensCell}
                    <td>${ccd.æ£€æµ‹é¡¹ || ''}</td>
                    ${lightCell}
                    <td>${ccd["å•åƒç´ ç²¾åº¦ (Î¼m)"] || ''}</td>
                    <td>${ccd.åˆ†è¾¨ç‡ || ''}</td>
                    <td>${ccd.è§†é‡ || ''}</td>
                    <td>${ccd.ç›¸å…ƒå°ºå¯¸ || ''}</td>
                `;
                tbody.appendChild(row);
            });

            return table;
        }

        window.onload = () => {
            // å¯é€‰ï¼šé»˜è®¤ä¸è§¦å‘è®¡ç®—
        };
    </script>
</body>
</html>
